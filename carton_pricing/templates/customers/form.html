{% extends "base.html" %}
{% block content %}
<h3 class="mb-3">{% if object %}ویرایش مشتری{% else %}مشتری جدید{% endif %}</h3>

<form method="post" class="card card-body">
  {% csrf_token %}

  {{ form.non_field_errors }}
  <div class="row g-3">
    <div class="col-md-4">
      <label class="form-label" for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
      {{ form.first_name }}
      {% for e in form.first_name.errors %}<div class="invalid-feedback d-block">{{ e }}</div>{% endfor %}
    </div>
    <div class="col-md-4">
      <label class="form-label" for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
      {{ form.last_name }}
    </div>
    <div class="col-md-4">
      <label class="form-label" for="{{ form.organization.id_for_label }}">{{ form.organization.label }}</label>
      {{ form.organization }}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="{{ form.economic_no.id_for_label }}">{{ form.economic_no.label }}</label>
      {{ form.economic_no }}
    </div>
    <div class="col-md-8">
      <label class="form-label" for="{{ form.address.id_for_label }}">{{ form.address.label }}</label>
      {{ form.address }}
    </div>

    <div class="col-12">
      <label class="form-label">{{ form.favorite_products.label }}</label>
      {{ form.favorite_products }}
    </div>
  </div>

  <div class="d-flex gap-2 mt-3">
    <button type="submit" class="btn btn-success">ذخیره</button>
    <a class="btn btn-secondary" href="{% url 'carton_pricing:customer_list' %}?select={{ request.GET.select }}{% if request.GET.next %}&next={{ request.GET.next|urlencode }}{% endif %}{% if request.GET.param %}&param={{ request.GET.param }}{% endif %}{% if request.GET.q %}&q={{ request.GET.q|urlencode }}{% endif %}">بازگشت</a>
  </div>
</form>
{% endblock %}
